# RAG System

Проект реализует **Retrieval-Augmented Generation (RAG)** с использованием **OpenAI Assistants API**

Подходит для случаев, когда разным пользователям нужно предоставить доступ к разным файлам

## Запуск

Собрать и запустить приложение:

```bash
docker-compose up --build
```
## Эндпоинты
1. `PUT /rag/text/upload`



```json
# Пример body запроса
{
  "data": "Техника строительства египетских пирамид изменялась от пирамиды к пирамиде. Существует множество гипотез относительно этого процесса, причем наука располагает определённой информацией о местоположении некоторых карьеров",
  "filename": "request_0001.txt",
  "user_ids": [101, 1]
}

# Пример body ответа
{
    "file_id": "file-...",
    "user_ids": [
        101,
        1
    ]
}
```

2. `POST /rag/generate_answer`

```json
# Пример body запроса
{
  "query": "Как построить пирамиду?",
  "user_id": 10
}

# Пример body ответа
{
    "text": "Техника строительства египетских пирамид изменялась от пирамиды к пирамиде. Существует множество гипотез относительно этого процесса, причем наука располагает определённой информацией о местоположении некоторых карьеров, откуда добывались материалы. Подробнее конкретной инструкции по построению пирамиды в доступных документах нет【4:0†request_0001.txt】.
    
    Если вам нужна более детальная информация, возможно, стоит уточнить, о какой именно пирамиде или методе строительства идет речь.",
    "user_id": 1
}
```

## Технологии
- FastAPI
- OpenAI API
- Docker Compose
